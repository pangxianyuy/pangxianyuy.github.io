<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§å‹è¯­è¨€æ¨¡å‹å¯¹é½ç®—æ³•æ¼”è¿›æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A single-page, scroll-based narrative structure designed for beginners. The flow is chronological and logical: 1. Introduction to the core problem of alignment. 2. Deep dive into the foundational RLHF/PPO method. 3. Introduction of DPO as a paradigm shift. 4. A timeline showcasing further evolution to GRPO/GSPO. 5. An interactive comparison tool (radar chart) for a holistic understanding. 6. A summary of the key takeaways. This structure guides the user from the "why" to the "how" and then to the "what's next," which is ideal for an educational piece. A sticky navigation bar allows users to jump between these logical sections easily. -->
    <!-- Visualization & Content Choices: 
        1. Alignment Feedback Loop: Report Info -> Core concept of alignment -> Goal: Inform -> Viz: Simple HTML/CSS animated diagram -> Interaction: Hover to see details on each stage -> Justification: Provides an immediate, intuitive grasp of the fundamental process.
        2. RLHF 3-Step Process: Report Info -> RLHF methodology -> Goal: Organize -> Viz: Numbered vertical steps with icons (HTML/CSS) -> Interaction: Clicking a step reveals its detailed explanation -> Justification: Deconstructs a complex pipeline into manageable, interactive learning modules.
        3. RLHF vs. DPO Pipeline: Report Info -> Architectural difference between RLHF and DPO -> Goal: Compare -> Viz: Side-by-side comparison diagrams (HTML/CSS) -> Interaction: Static -> Justification: Visually highlights DPO's simplification, which is its main selling point.
        4. Algorithm Evolution Timeline: Report Info -> Chronology of algorithms -> Goal: Show Change -> Viz: A horizontal timeline (HTML/CSS) -> Interaction: Clickable nodes for each algorithm to show a summary -> Justification: Effectively visualizes the rapid progress and historical context of the field.
        5. Multi-Algorithm Comparison: Report Info -> Pros and cons of all discussed algorithms -> Goal: Compare -> Viz: Radar Chart (Chart.js) -> Interaction: Checkboxes to dynamically add/remove algorithms from the chart -> Justification: Empowers the user to perform their own comparisons based on multiple criteria (cost, stability, etc.), fostering deeper understanding.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #FDFBF8;
            color: #3f3f46;
        }
        .section-card {
            background-color: #FFFFFF;
            border: 1px solid #F3EFEA;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .section-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .step-item {
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .step-item.active {
            background-color: #eff6ff;
            border-color: #3b82f6;
        }
        .code-block {
            background-color: #282c34;
            color: #abb2bf;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }
        .code-block .token.keyword { color: #c678dd; }
        .code-block .token.function { color: #61afef; }
        .code-block .token.comment { color: #5c6370; }
        .code-block .token.number { color: #d19a66; }
        .code-block .token.string { color: #98c379; }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200 transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl md:text-2xl font-bold text-gray-800">LLM å¯¹é½ç®—æ³•æ¼”è¿›</h1>
                <nav class="hidden md:flex space-x-6">
                    <a href="#intro" class="nav-link text-gray-600 font-medium pb-1">å¼•è¨€</a>
                    <a href="#rlhf" class="nav-link text-gray-600 font-medium pb-1">RLHF æ—¶ä»£</a>
                    <a href="#dpo" class="nav-link text-gray-600 font-medium pb-1">DPO å˜é©</a>
                    <a href="#evolution" class="nav-link text-gray-600 font-medium pb-1">ç®—æ³•æ¼”è¿›</a>
                    <a href="#comparison" class="nav-link text-gray-600 font-medium pb-1">ç»¼åˆå¯¹æ¯”</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="intro" class="my-8 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4 text-center">ä»€ä¹ˆæ˜¯å¤§æ¨¡å‹å¯¹é½ï¼Ÿ</h2>
                <p class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-8">
                    å¤§å‹è¯­è¨€æ¨¡å‹ (LLM) ç»è¿‡é¢„è®­ç»ƒåï¼Œå­¦ä¼šäº†æ ¹æ®æµ·é‡æ–‡æœ¬æ•°æ®é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒèƒ½ç†è§£å¹¶éµå¾ªäººç±»çš„å¤æ‚æŒ‡ä»¤å’Œä»·å€¼è§‚ã€‚æ¨¡å‹å¯¹é½ (Alignment) çš„ç›®æ ‡å°±æ˜¯é€šè¿‡å¾®è°ƒï¼Œè®©æ¨¡å‹å­¦ä¼šç”Ÿæˆæœ‰ç”¨çš„ (Helpful)ã€è¯šå®çš„ (Honest) ä¸”æ— å®³çš„ (Harmless) çš„å†…å®¹ï¼Œä½¿å…¶è¡Œä¸ºæ›´ç¬¦åˆäººç±»çš„åå¥½å’ŒæœŸæœ›ã€‚
                </p>
                <div class="w-full max-w-2xl mx-auto p-6 bg-gray-50 rounded-lg">
                    <div class="flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4">
                        <div class="text-center group">
                            <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center text-4xl mx-auto transition-transform duration-300 group-hover:scale-110">ğŸ¤–</div>
                            <p class="mt-2 font-semibold">LLM ç”Ÿæˆå›ç­”</p>
                            <p class="text-sm text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity">æ¨¡å‹æ ¹æ®æŒ‡ä»¤è¾“å‡ºå¤šä¸ªå€™é€‰ç­”æ¡ˆã€‚</p>
                        </div>
                        <div class="text-5xl text-blue-300 font-light transform rotate-90 md:rotate-0">â†’</div>
                        <div class="text-center group">
                            <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-4xl mx-auto transition-transform duration-300 group-hover:scale-110">ğŸ‘©â€âš–ï¸</div>
                            <p class="mt-2 font-semibold">äººç±»è¿›è¡Œåé¦ˆ</p>
                             <p class="text-sm text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity">æ ‡æ³¨è€…å¯¹ç­”æ¡ˆè¿›è¡Œæ’åºæˆ–æ‰“åˆ†ã€‚</p>
                        </div>
                        <div class="text-5xl text-green-300 font-light transform rotate-90 md:rotate-0">â†’</div>
                        <div class="text-center group">
                            <div class="w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center text-4xl mx-auto transition-transform duration-300 group-hover:scale-110">ğŸ§ </div>
                            <p class="mt-2 font-semibold">æ¨¡å‹å­¦ä¹ åå¥½</p>
                             <p class="text-sm text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity">é€šè¿‡ç®—æ³•æ›´æ–°æ¨¡å‹ï¼Œä½¿å…¶æ›´æ‡‚äººç±»ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="rlhf" class="my-8 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-center">å¼€åˆ›æ—¶ä»£ï¼šä»äººç±»åé¦ˆä¸­å¼ºåŒ–å­¦ä¹  (RLHF)</h2>
                <p class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-8">
                    RLHF æ˜¯å¯¹é½é¢†åŸŸçš„å¼€åˆ›æ€§å·¥ä½œï¼Œå®ƒé¦–æ¬¡æˆåŠŸåœ°å°†å¼ºåŒ–å­¦ä¹ åº”ç”¨äº LLM å¾®è°ƒã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯è®­ç»ƒä¸€ä¸ªå¥–åŠ±æ¨¡å‹ (Reward Model) æ¥æ¨¡æ‹Ÿäººç±»çš„åå¥½ï¼Œç„¶åç”¨è¿™ä¸ªå¥–åŠ±æ¨¡å‹ä½œä¸ºä¿¡å·ï¼Œé€šè¿‡å¼ºåŒ–å­¦ä¹ ç®—æ³• (å¦‚ PPO) æ¥ä¼˜åŒ–è¯­è¨€æ¨¡å‹ã€‚æ•´ä¸ªè¿‡ç¨‹è™½ç„¶å¤æ‚ï¼Œä½†æ•ˆæœæ˜¾è‘—ï¼Œæ˜¯ ChatGPT ç­‰æ—©æœŸæˆåŠŸæ¨¡å‹èƒŒåçš„å…³é”®æŠ€æœ¯ã€‚
                </p>
                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="lg:w-1/3">
                        <h3 class="text-xl font-semibold mb-4 text-center">RLHF çš„ä¸‰æ­¥æµç¨‹</h3>
                        <div id="rlhf-steps" class="space-y-4">
                            <div id="step-1" class="step-item p-4 border-2 border-transparent rounded-lg cursor-pointer bg-gray-50">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-xl mr-4">1</div>
                                    <div>
                                        <h4 class="font-bold">ç›‘ç£å¾®è°ƒ (SFT)</h4>
                                        <p class="text-sm text-gray-600">è·å–åˆå§‹æ¨¡å‹</p>
                                    </div>
                                </div>
                            </div>
                            <div id="step-2" class="step-item p-4 border-2 border-transparent rounded-lg cursor-pointer">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-xl mr-4">2</div>
                                    <div>
                                        <h4 class="font-bold">è®­ç»ƒå¥–åŠ±æ¨¡å‹ (RM)</h4>
                                        <p class="text-sm text-gray-600">å­¦ä¹ äººç±»åå¥½</p>
                                    </div>
                                </div>
                            </div>
                            <div id="step-3" class="step-item p-4 border-2 border-transparent rounded-lg cursor-pointer">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-xl mr-4">3</div>
                                    <div>
                                        <h4 class="font-bold">PPO å¼ºåŒ–å­¦ä¹ </h4>
                                        <p class="text-sm text-gray-600">ä¼˜åŒ–è¯­è¨€æ¨¡å‹</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="rlhf-details" class="lg:w-2/3 p-6 bg-gray-50 rounded-lg">
                        
                    </div>
                </div>
            </div>
        </section>

        <section id="dpo" class="my-8 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-center">èŒƒå¼é©æ–°ï¼šç›´æ¥åå¥½ä¼˜åŒ– (DPO)</h2>
                <p class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-8">
                    RLHF æµç¨‹å¤æ‚ã€è®­ç»ƒä¸ç¨³å®šã€‚DPO (Direct Preference Optimization) æå‡ºäº†ä¸€ç§é©å‘½æ€§çš„æ–°èŒƒå¼ã€‚å®ƒå·§å¦™åœ°è¯æ˜äº†ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„åˆ†ç±»æŸå¤±å‡½æ•°ï¼Œç›´æ¥åœ¨åå¥½æ•°æ®ä¸Šä¼˜åŒ–è¯­è¨€æ¨¡å‹ï¼Œå…¶æ•ˆæœç­‰ä»·äº RLHFã€‚è¿™çœå»äº†è®­ç»ƒå¥–åŠ±æ¨¡å‹å’Œå¼ºåŒ–å­¦ä¹ çš„å¤æ‚æ­¥éª¤ï¼Œè®©å¯¹é½è¿‡ç¨‹å˜å¾—åƒç›‘ç£å¾®è°ƒä¸€æ ·ç®€å•ã€ç¨³å®šã€‚
                </p>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="p-6 border rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-center">RLHF æµç¨‹</h3>
                        <div class="space-y-4 text-center">
                            <div class="p-3 bg-blue-100 rounded-lg">SFT åˆå§‹æ¨¡å‹</div>
                            <div class="text-2xl">â†“</div>
                            <div class="p-3 bg-green-100 rounded-lg">è®­ç»ƒå¥–åŠ±æ¨¡å‹</div>
                            <div class="text-2xl">â†“</div>
                            <div class="p-3 bg-purple-100 rounded-lg">PPO å¼ºåŒ–å­¦ä¹ </div>
                            <div class="text-2xl">â†“</div>
                            <div class="p-3 bg-red-100 rounded-lg">æœ€ç»ˆå¯¹é½æ¨¡å‹</div>
                        </div>
                    </div>
                    <div class="p-6 border-2 border-blue-500 bg-blue-50 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-center text-blue-800">DPO æµç¨‹ (æ›´ç®€å•)</h3>
                        <div class="space-y-4 text-center flex flex-col justify-center h-full">
                           <div class="p-3 bg-blue-100 rounded-lg">SFT åˆå§‹æ¨¡å‹</div>
                           <div class="text-2xl text-blue-500">â†“</div>
                           <div class="p-3 bg-blue-200 rounded-lg font-bold">ç›´æ¥åœ¨åå¥½æ•°æ®ä¸Šä¼˜åŒ–</div>
                           <div class="text-2xl text-blue-500">â†“</div>
                           <div class="p-3 bg-blue-300 rounded-lg">æœ€ç»ˆå¯¹é½æ¨¡å‹</div>
                        </div>
                    </div>
                </div>
                <div class="mt-8">
                     <h3 class="text-xl font-semibold mb-4 text-center">DPO æ ¸å¿ƒæ€æƒ³ä¸å®ç°</h3>
                     <p class="text-gray-600 mb-4 max-w-3xl mx-auto">DPOçš„æ ¸å¿ƒåœ¨äºå…¶æŸå¤±å‡½æ•°ã€‚å®ƒå°†é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªç®€å•çš„äºŒå…ƒåˆ†ç±»ä»»åŠ¡ï¼šæœ€å¤§åŒ–æ¨¡å‹è®¤ä¸ºâ€œæ›´ä¼˜å›ç­”â€ ($y_w$) çš„æ¦‚ç‡ï¼ŒåŒæ—¶æœ€å°åŒ–â€œæ›´å·®å›ç­”â€ ($y_l$) çš„æ¦‚ç‡ã€‚è¿™ä¸ªæ¦‚ç‡å·®å€¼é€šè¿‡ä¸€ä¸ª sigmoid å‡½æ•°è¿›è¡Œå»ºæ¨¡ã€‚å®ƒä¸éœ€è¦æ˜¾å¼çš„å¥–åŠ±æ¨¡å‹ï¼Œè€Œæ˜¯ç›´æ¥åˆ©ç”¨ SFT æ¨¡å‹çš„éšå¼å¥–åŠ±å·®å¼‚æ¥æ›´æ–°ç­–ç•¥æ¨¡å‹ã€‚</p>
                     <div class="code-block text-sm">
                        <pre><code><span class="token.comment"># DPO æŸå¤±å‡½æ•°çš„ Python ä¼ªä»£ç </span>
<span class="token.keyword">def</span> <span class="token.function">dpo_loss</span>(policy_chosen_logps, policy_rejected_logps, 
             ref_chosen_logps, ref_rejected_logps, beta):
    <span class="token.comment"># policy æ˜¯å½“å‰è¦è®­ç»ƒçš„æ¨¡å‹, ref æ˜¯ SFT åˆå§‹æ¨¡å‹</span>
    pi_log_ratio = policy_chosen_logps - policy_rejected_logps
    ref_log_ratio = ref_chosen_logps - ref_rejected_logps
    
    logits = pi_log_ratio - ref_log_ratio
    
    <span class="token.comment"># å…³é”®éƒ¨åˆ†ï¼šä¸€ä¸ªç®€å•çš„ logistic æŸå¤±</span>
    loss = -<span class="token.function">log_sigmoid</span>(beta * logits)
    <span class="token.keyword">return</span> loss.<span class="token.function">mean</span>()</code></pre>
                     </div>
                </div>
            </div>
        </section>

        <section id="evolution" class="my-8 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                 <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-center">DPO ä¹‹åï¼šç®—æ³•çš„æ¼”è¿›ä¹‹è·¯</h2>
                 <p class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-8">
                    DPO çš„æˆåŠŸå¼€å¯äº†å¯¹é½ç®—æ³•ç ”ç©¶çš„æ–°ç¯‡ç« ã€‚ç ”ç©¶è€…ä»¬å¼€å§‹æ¢ç´¢å¦‚ä½•è¿›ä¸€æ­¥æå‡ DPO çš„æ€§èƒ½ã€è§£å†³å…¶æ½œåœ¨é—®é¢˜ï¼ˆå¦‚å¯¹æ•°æ®å™ªå£°æ•æ„Ÿï¼‰ï¼Œå¹¶å°†åå¥½å­¦ä¹ çš„æ€æƒ³æ‰©å±•åˆ°æ›´å¤æ‚çš„åœºæ™¯ã€‚
                </p>
                <div class="relative w-full overflow-x-auto pb-8">
                    <div class="flex items-center" style="min-width: 800px;">
                        <div class="w-full h-1 bg-gray-300 absolute top-1/2 transform -translate-y-1/2"></div>
                        <div id="timeline-container" class="w-full flex justify-between relative">
                        </div>
                    </div>
                </div>
                 <div id="timeline-details" class="mt-8 p-6 bg-gray-50 rounded-lg min-h-[150px]">
                    <p class="text-gray-500 text-center">ç‚¹å‡»ä¸Šæ–¹æ—¶é—´çº¿ä¸Šçš„èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…ã€‚</p>
                </div>
            </div>
        </section>

        <section id="comparison" class="my-8 scroll-mt-20">
            <div class="section-card p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2 text-center">å„é¡¹ç®—æ³•ç»¼åˆå¯¹æ¯”</h2>
                <p class="text-lg text-gray-600 text-center max-w-3xl mx-auto mb-8">
                    ä¸åŒçš„å¯¹é½ç®—æ³•åœ¨è®¡ç®—æˆæœ¬ã€ç¨³å®šæ€§ã€æ•°æ®æ•ˆç‡å’Œå®ç°éš¾åº¦ä¸Šå„æœ‰åƒç§‹ã€‚é€šè¿‡ä¸‹é¢çš„é›·è¾¾å›¾ï¼Œä½ å¯ä»¥ç›´è§‚åœ°æ¯”è¾ƒå®ƒä»¬çš„ä¼˜ç¼ºç‚¹ã€‚é€‰æ‹©åˆé€‚çš„ç®—æ³•é€šå¸¸éœ€è¦åœ¨æ¨¡å‹æ€§èƒ½å’Œå·¥ç¨‹æˆæœ¬ä¹‹é—´åšå‡ºæƒè¡¡ã€‚
                </p>
                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-2/3">
                        <div class="chart-container">
                             <canvas id="comparisonChart"></canvas>
                        </div>
                    </div>
                    <div class="w-full md:w-1/3">
                        <h3 class="font-semibold mb-4 text-lg">é€‰æ‹©è¦å¯¹æ¯”çš„ç®—æ³•:</h3>
                        <div id="chart-controls" class="space-y-2">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    </main>
    <footer class="text-center p-4 mt-8 text-gray-500 border-t">
        <p>&copy; 2025 LLM å¯¹é½ç®—æ³•å­¦ä¹ æŒ‡å—</p>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // RLHF Steps Interaction
    const rlhfStepsData = {
        'step-1': {
            title: 'ç¬¬ä¸€æ­¥ï¼šç›‘ç£å¾®è°ƒ (SFT)',
            content: 'ä½¿ç”¨é«˜è´¨é‡çš„â€œæŒ‡ä»¤-å›ç­”â€æ•°æ®å¯¹é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯è®©æ¨¡å‹é¦–å…ˆå…·å¤‡ç†è§£å¹¶éµå¾ªæŒ‡ä»¤çš„åŸºæœ¬èƒ½åŠ›ï¼Œä¸ºåç»­çš„åå¥½å­¦ä¹ æ‰“ä¸‹åŸºç¡€ã€‚è¿™ä¸ªæ¨¡å‹ä¹Ÿè¢«ç§°ä¸ºå‚è€ƒæ¨¡å‹ (Reference Model)ã€‚'
        },
        'step-2': {
            title: 'ç¬¬äºŒæ­¥ï¼šè®­ç»ƒå¥–åŠ±æ¨¡å‹ (RM)',
            content: 'æ”¶é›†äººç±»åå¥½æ•°æ®ã€‚å¯¹äºåŒä¸€ä¸ªæŒ‡ä»¤ï¼Œè®© SFT æ¨¡å‹ç”Ÿæˆå¤šä¸ªå›ç­”ï¼Œç„¶åç”±äººç±»æ ‡æ³¨è€…å¯¹è¿™äº›å›ç­”è¿›è¡Œæ’åºã€‚åˆ©ç”¨è¿™äº›æ’åºæ•°æ®ï¼Œè®­ç»ƒä¸€ä¸ªå¥–åŠ±æ¨¡å‹ã€‚è¿™ä¸ªæ¨¡å‹è¾“å…¥ä¸€ä¸ªâ€œæŒ‡ä»¤-å›ç­”â€å¯¹ï¼Œè¾“å‡ºä¸€ä¸ªæ ‡é‡åˆ†æ•°ï¼Œåˆ†æ•°è¶Šé«˜ä»£è¡¨äººå¯¹æ­¤è¶Šåçˆ±ã€‚'
        },
        'step-3': {
            title: 'ç¬¬ä¸‰æ­¥ï¼šPPO å¼ºåŒ–å­¦ä¹ ',
            content: 'è¿™æ˜¯æœ€å…³é”®ä¹Ÿæ˜¯æœ€å¤æ‚çš„ä¸€æ­¥ã€‚å°† SFT æ¨¡å‹ä½œä¸ºç­–ç•¥ï¼Œåœ¨å¥–åŠ±æ¨¡å‹æ„å»ºçš„ç¯å¢ƒä¸­è¿›è¡Œæ¢ç´¢ã€‚ç­–ç•¥æ¨¡å‹ç”Ÿæˆå›ç­”ï¼Œå¥–åŠ±æ¨¡å‹ç»™å‡ºå¥–åŠ±åˆ†æ•°ã€‚é€šè¿‡ PPO ç®—æ³•ï¼Œæœ€å¤§åŒ–ç´¯è®¡å¥–åŠ±ï¼ŒåŒæ—¶ç”¨ä¸€ä¸ª KL æ•£åº¦æƒ©ç½šé¡¹é˜²æ­¢ç­–ç•¥æ¨¡å‹åç¦» SFT æ¨¡å‹å¤ªè¿œï¼Œé¿å…æ¨¡å‹é—å¿˜åŸºç¡€èƒ½åŠ›ã€‚'
        }
    };
    
    const rlhfStepsContainer = document.getElementById('rlhf-steps');
    const rlhfDetailsContainer = document.getElementById('rlhf-details');
    
    function updateRlhfDetails(stepId) {
        const data = rlhfStepsData[stepId];
        rlhfDetailsContainer.innerHTML = `
            <h4 class="text-xl font-bold text-gray-800 mb-2">${data.title}</h4>
            <p class="text-gray-600">${data.content}</p>
        `;
        
        rlhfStepsContainer.querySelectorAll('.step-item').forEach(el => {
            el.classList.remove('active', 'bg-blue-50', 'border-blue-500');
            el.classList.add('bg-gray-50');
            if (el.id === stepId) {
                el.classList.add('active', 'bg-blue-50', 'border-blue-500');
                el.classList.remove('bg-gray-50');
            }
        });
    }
    
    rlhfStepsContainer.addEventListener('click', (e) => {
        const stepItem = e.target.closest('.step-item');
        if (stepItem) {
            updateRlhfDetails(stepItem.id);
        }
    });

    updateRlhfDetails('step-1');


    // Timeline Interaction
    const timelineData = [
        { 
            id: 'ppo',
            year: '2022 (åº”ç”¨äºLLM)', 
            name: 'PPO',
            title: 'Proximal Policy Optimization (è¿‘ç«¯ç­–ç•¥ä¼˜åŒ–)',
            content: 'ä½œä¸º RLHF çš„æ ¸å¿ƒï¼ŒPPO æ˜¯ä¸€ç§å¼ºå¤§çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚å®ƒçš„ä¸»è¦ä¼˜åŠ¿åœ¨äºé€šè¿‡â€œè£å‰ªâ€ç›®æ ‡å‡½æ•°ï¼Œé™åˆ¶äº†æ¯æ¬¡ç­–ç•¥æ›´æ–°çš„å¹…åº¦ï¼Œä»è€Œä¿è¯äº†è®­ç»ƒçš„ç¨³å®šæ€§ï¼Œè¿™åœ¨å¤æ‚çš„è¯­è¨€æ¨¡å‹ä¼˜åŒ–ä¸­è‡³å…³é‡è¦ã€‚',
            color: 'bg-purple-500'
        },
        { 
            id: 'dpo',
            year: '2023', 
            name: 'DPO',
            title: 'Direct Preference Optimization (ç›´æ¥åå¥½ä¼˜åŒ–)',
            content: 'DPO æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚å®ƒæŠ›å¼ƒäº†å¤æ‚çš„å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼Œå°†åå¥½å­¦ä¹ é—®é¢˜å·§å¦™åœ°è½¬åŒ–ä¸ºä¸€ä¸ªç®€å•çš„åˆ†ç±»é—®é¢˜ã€‚è¿™ä½¿å¾—å¯¹é½è®­ç»ƒå˜å¾—åƒ SFT ä¸€æ ·ç¨³å®šå’Œé«˜æ•ˆï¼Œå¤§å¤§é™ä½äº†å·¥ç¨‹å®ç°çš„é—¨æ§›ã€‚',
            color: 'bg-blue-500'
        },
        { 
            id: 'grpo',
            year: '2024', 
            name: 'GRPO',
            title: 'Group Reward Preference Optimization (åˆ†ç»„å¥–åŠ±åå¥½ä¼˜åŒ–)',
            content: 'GRPO æ—¨åœ¨è§£å†³ DPO å¯¹æ•°æ®å™ªå£°æ•æ„Ÿçš„é—®é¢˜ã€‚å®ƒå¼•å…¥äº†åˆ†ç»„å¥–åŠ±çš„æ¦‚å¿µï¼Œä¸è¦æ±‚åå¥½æ•°æ®ä¸­çš„â€œèµ¢å®¶â€ç»å¯¹ä¼˜äºâ€œè¾“å®¶â€ï¼Œè€Œæ˜¯è®¤ä¸ºâ€œèµ¢å®¶â€çš„å¹³å‡å¥–åŠ±æ›´é«˜ã€‚è¿™ä½¿å¾—ç®—æ³•å¯¹æ ‡æ³¨é”™è¯¯å’Œæ¨¡ç³Šåå¥½æœ‰æ›´å¥½çš„é²æ£’æ€§ã€‚',
            color: 'bg-green-500'
        },
        { 
            id: 'gspo',
            year: '2024', 
            name: 'GSPO',
            title: 'Grounded Simplex Preference Optimization (åŸºå‡†åŒ–å•å½¢åå¥½ä¼˜åŒ–)',
            content: 'GSPO æ˜¯æœ€æ–°çš„æ¢ç´¢ä¹‹ä¸€ï¼Œå®ƒè¯•å›¾è§£å†³å¤šæ¨¡å‹ã€å¤šç›®æ ‡å¯¹é½çš„é—®é¢˜ã€‚å®ƒé€šè¿‡åœ¨ä¸€ä¸ªâ€œåå¥½å•å½¢â€ç©ºé—´ä¸­è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶å¼•å…¥ä¸€ä¸ªâ€œåŸºå‡†ç‚¹â€ï¼ˆå¦‚ä¸€ä¸ªå®‰å…¨æ¨¡å‹ï¼‰ï¼Œä½¿å¾—å¯ä»¥åœ¨ä¿è¯æŸäº›åº•çº¿ï¼ˆå¦‚å®‰å…¨æ€§ï¼‰çš„åŒæ—¶ï¼Œä¼˜åŒ–å…¶ä»–ç›®æ ‡ï¼ˆå¦‚å¸®åŠ©æ€§ï¼‰ï¼Œä¸ºæ›´å¤æ‚çš„å¯¹é½ä»»åŠ¡æä¾›äº†æ–°æ€è·¯ã€‚',
            color: 'bg-orange-500'
        },
    ];

    const timelineContainer = document.getElementById('timeline-container');
    const timelineDetails = document.getElementById('timeline-details');

    timelineData.forEach(item => {
        const node = document.createElement('div');
        node.className = 'flex flex-col items-center z-10 cursor-pointer group';
        node.innerHTML = `
            <div class="w-5 h-5 ${item.color} rounded-full border-4 border-white transition-transform duration-300 group-hover:scale-125"></div>
            <p class="mt-2 font-bold">${item.name}</p>
            <p class="text-sm text-gray-500">${item.year}</p>
        `;
        node.addEventListener('click', () => {
            timelineDetails.innerHTML = `
                <h4 class="text-xl font-bold text-gray-800 mb-2">${item.title} (${item.name})</h4>
                <p class="text-gray-600">${item.content}</p>
            `;
        });
        timelineContainer.appendChild(node);
    });

    // Comparison Chart
    const chartData = {
        labels: ['ç¨³å®šæ€§', 'æ•°æ®æ•ˆç‡', 'å®ç°éš¾åº¦', 'è®¡ç®—æˆæœ¬', 'æ€§èƒ½ä¸Šé™'],
        datasets: [
            {
                label: 'PPO (RLHF)',
                data: [2, 3, 1, 1, 5],
                borderColor: 'rgba(139, 92, 246, 1)',
                backgroundColor: 'rgba(139, 92, 246, 0.2)',
                hidden: false,
            },
            {
                label: 'DPO',
                data: [5, 4, 5, 4, 4],
                borderColor: 'rgba(59, 130, 246, 1)',
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                hidden: false,
            },
            {
                label: 'GRPO',
                data: [5, 3, 4, 4, 4],
                borderColor: 'rgba(16, 185, 129, 1)',
                backgroundColor: 'rgba(16, 185, 129, 0.2)',
                hidden: true,
            },
            {
                label: 'GSPO',
                data: [4, 2, 2, 2, 5],
                borderColor: 'rgba(249, 115, 22, 1)',
                backgroundColor: 'rgba(249, 115, 22, 0.2)',
                hidden: true,
            }
        ]
    };
    const chartControls = document.getElementById('chart-controls');
    const ctx = document.getElementById('comparisonChart').getContext('2d');
    const comparisonChart = new Chart(ctx, {
        type: 'radar',
        data: chartData,
        options: {
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    pointLabels: {
                        font: {
                            size: 14
                        },
                        color: '#374151'
                    },
                    ticks: {
                        beginAtZero: true,
                        max: 5,
                        min: 0,
                        stepSize: 1,
                        backdropColor: 'rgba(255, 255, 255, 0.75)'
                    }
                }
            },
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            label += context.raw;
                            const interpretations = {
                                1: '(å·®)', 2: '(ä¸­-)', 3: '(ä¸­)', 4: '(ä¸­+)', 5: '(ä¼˜)'
                            };
                            label += ' ' + interpretations[context.raw];
                            return label;
                        }
                    }
                }
            }
        }
    });

    chartData.datasets.forEach((dataset, index) => {
        const controlContainer = document.createElement('div');
        controlContainer.className = 'flex items-center';
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = `dataset-${index}`;
        checkbox.checked = !dataset.hidden;
        checkbox.className = 'h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500';
        checkbox.style.accentColor = dataset.borderColor;
        checkbox.addEventListener('change', () => {
            comparisonChart.data.datasets[index].hidden = !checkbox.checked;
            comparisonChart.update();
        });
        
        const label = document.createElement('label');
        label.htmlFor = `dataset-${index}`;
        label.className = 'ml-2 block text-sm text-gray-900';
        label.textContent = dataset.label;
        
        controlContainer.appendChild(checkbox);
        controlContainer.appendChild(label);
        chartControls.appendChild(controlContainer);
    });

    // Nav Link Active State on Scroll
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-link');
    
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 80) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active');
            }
        });
    });

});
</script>

</body>
</html>
